<!DOCTYPE html>
<html>
<style>
table, th, td {
  border:1px solid black;
}
</style>
<body>

<h2>Employees</h2>

<form>
<table style="width:100%">
  <thead>
    <tr>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Hire Date</th>
      <th>Role</th>
      <th>ID</th>
    </tr>
  </thead>
  <tbody id="employeeTableBody"></tbody>
</table>
<button>Submit Changes</button>
<button>New Record</button>
</form>

</body>
<script>
  function populateEmployeeTable(employeeList) {
    let employeeTable = document.getElementById("employeeTableBody");

    employeeList.forEach(employee => {
      let row = employeeTable.insertRow();
      let fnameCell = row.insertCell();
      fnameCell.innerHTML = `<input type="text" value=${employee.fname}>`;
      let lnameCell = row.insertCell();
      lnameCell.innerHTML = `<input type="text" value=${employee.lname}>`;
      let hdateCell = row.insertCell();
      hdateCell.innerHTML = `<input type="text" value=${employee.hdate}>`;
      let roleCell = row.insertCell();
      roleCell.innerHTML = `<input type="text" value=${employee.role}>`;
      let idCell = row.insertCell();
      idCell.innerHTML = `<input type="text" value=${employee.id}>`;
      let deleteCell = row.insertCell();
      deleteCell.innerHTML = '<button>Delete</button>';
    });
  }

  function updateEmployeeTable() {
    fetch('/api/employees')
            .then(response => response.json())
            .then(employees => populateEmployeeTable(employees));
  }

  updateEmployeeTable();

</script>
</html>
